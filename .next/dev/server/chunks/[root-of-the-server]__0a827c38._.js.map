{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MONISH%20V/Downloads/story/lib/db.ts"],"sourcesContent":["import mysql from \"mysql2/promise\";\r\n\r\nexport const db = mysql.createPool({\r\n  host: \"localhost\",\r\n  user: \"root\",\r\n  password: \"Monish266480@\",\r\n  database: \"story_ai\",\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,KAAK,8IAAK,CAAC,UAAU,CAAC;IACjC,MAAM;IACN,MAAM;IACN,UAAU;IACV,UAAU;AACZ","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MONISH%20V/Downloads/story/app/api/signup/route.ts"],"sourcesContent":["import { db } from \"@/lib/db\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const { name, email, password } = await request.json();\r\n\r\n    if (!name || !email || !password) {\r\n      return Response.json({ error: \"All fields required\" }, { status: 400 });\r\n    }\r\n\r\n    // Check if user exists\r\n    const [rows]: any = await db.query(\"SELECT * FROM users WHERE email = ?\", [\r\n      email,\r\n    ]);\r\n\r\n    if (rows.length > 0) {\r\n      return Response.json({ error: \"Email already exists\" }, { status: 400 });\r\n    }\r\n\r\n    // Hash password\r\n    const hashed = await bcrypt.hash(password, 10);\r\n\r\n    // Insert user\r\n    await db.query(\r\n      \"INSERT INTO users (name, email, password) VALUES (?, ?, ?)\",\r\n      [name, email, hashed]\r\n    );\r\n\r\n    return Response.json({ success: true });\r\n  } catch (error) {\r\n    return Response.json({ error: \"Server Error\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU;YAChC,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QACvE;QAEA,uBAAuB;QACvB,MAAM,CAAC,KAAK,GAAQ,MAAM,iHAAE,CAAC,KAAK,CAAC,uCAAuC;YACxE;SACD;QAED,IAAI,KAAK,MAAM,GAAG,GAAG;YACnB,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,gBAAgB;QAChB,MAAM,SAAS,MAAM,8IAAM,CAAC,IAAI,CAAC,UAAU;QAE3C,cAAc;QACd,MAAM,iHAAE,CAAC,KAAK,CACZ,8DACA;YAAC;YAAM;YAAO;SAAO;QAGvB,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;QAAK;IACvC,EAAE,OAAO,OAAO;QACd,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IAChE;AACF","debugId":null}}]
}