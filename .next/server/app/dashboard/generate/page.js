(()=>{var e={};e.id=24,e.ids=[24],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6193:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(2359),t(2472),t(8600),t(315);var a=t(4648),s=t(2995),o=t(9978),n=t.n(o),l=t(7460),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let d=["",{children:["dashboard",{children:["generate",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2359)),"C:\\Users\\MONISH V\\Downloads\\story\\app\\dashboard\\generate\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2472)),"C:\\Users\\MONISH V\\Downloads\\story\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8600)),"C:\\Users\\MONISH V\\Downloads\\story\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,315,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\MONISH V\\Downloads\\story\\app\\dashboard\\generate\\page.tsx"],u="/dashboard/generate/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/generate/page",pathname:"/dashboard/generate",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4689:(e,r,t)=>{Promise.resolve().then(t.bind(t,57))},57:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var a=t(8427),s=t(5952),o=t(5625),n=t(8848),l=t(9103);let i=(0,l.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var d=t(1940);let c=[{id:"fantasy",label:"Fantasy",emoji:"\uD83E\uDDD9",description:"Magic and mythical worlds"},{id:"scifi",label:"Sci-Fi",emoji:"\uD83D\uDE80",description:"Futuristic technology"},{id:"romance",label:"Romance",emoji:"\uD83D\uDC95",description:"Love and relationships"},{id:"horror",label:"Horror",emoji:"\uD83D\uDC7B",description:"Scary encounters"},{id:"thriller",label:"Thriller",emoji:"\uD83D\uDD2A",description:"Suspense and mystery"},{id:"adventure",label:"Adventure",emoji:"\uD83D\uDDFAï¸",description:"Epic journeys"},{id:"comedy",label:"Comedy",emoji:"\uD83D\uDE02",description:"Humor and laughs"},{id:"drama",label:"Drama",emoji:"\uD83C\uDFAD",description:"Emotional stories"}],u=[{label:"Hero's Journey",value:"A young hero discovers their destiny and must overcome great challenges"},{label:"Lost Love",value:"Two people separated by fate must find their way back to each other"},{label:"Mystery",value:"An detective must solve a baffling case that challenges everything they believe"},{label:"Revenge",value:"A character seeks justice against those who wronged them"}];function m({onGenerate:e,isLoading:r}){let[t,o]=(0,s.useState)(""),[l,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),b=async r=>{r.preventDefault(),t&&l&&await e({genre:t,theme:l,characters:p})};return(0,a.jsxs)("form",{onSubmit:b,className:"space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Choose a Genre"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:c.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>o(e.id),onMouseEnter:()=>g(e.id),onMouseLeave:()=>g(""),className:`relative p-4 rounded-2xl transition-all duration-300 hover-lift ${t===e.id?"bg-gradient-to-br from-primary to-accent text-white shadow-lg scale-105":"glass dark:glass-dark text-foreground hover:border-primary"}`,children:[a.jsx("div",{className:"text-4xl mb-2",children:e.emoji}),a.jsx("div",{className:"font-semibold text-sm",children:e.label}),x===e.id&&!t&&a.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-primary/50 animate-pulse"})]},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Story Theme or Prompt"}),a.jsx("textarea",{value:l,onChange:e=>m(e.target.value),placeholder:"Describe the theme or core concept of your story...",className:"w-full px-4 py-4 rounded-xl bg-card border border-border focus:border-primary focus:outline-none transition-colors resize-none",rows:4}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[l.length,"/500 characters | ",l.split(" ").filter(e=>e).length," words"]}),!l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mt-4 mb-2",children:"Or try a template:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:u.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>m(e.value),className:"p-3 text-left rounded-lg bg-secondary border border-border hover:border-primary transition-colors text-sm",children:[a.jsx("div",{className:"font-medium text-foreground",children:e.label}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.value})]},e.label))})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Characters (Optional)"}),a.jsx("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"e.g., A brave knight, A mysterious sorceress, A loyal companion",className:"w-full px-4 py-3 rounded-xl bg-card border border-border focus:border-primary focus:outline-none transition-colors"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Separate multiple characters with commas"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 py-6",children:[a.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent to-primary/50"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[a.jsx(n.Z,{className:"w-4 h-4 animate-sparkle"}),a.jsx("span",{className:"text-sm font-medium",children:"Powered by AI"})]}),a.jsx("div",{className:"flex-1 h-px bg-gradient-to-l from-transparent to-primary/50"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("button",{type:"submit",disabled:!t||!l||r,className:"flex-1 px-6 py-4 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-xl hover:shadow-2xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:[a.jsx(n.Z,{className:"w-5 h-5 group-hover:animate-spin"}),r?"Generating Story...":"Generate Story"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{let e=c[Math.floor(Math.random()*c.length)],r=u[Math.floor(Math.random()*u.length)];o(e.id),m(r.value),h("")},disabled:r,className:"px-6 py-4 bg-card border border-border text-foreground font-semibold rounded-xl hover:bg-secondary transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[a.jsx(i,{className:"w-5 h-5"}),"Surprise Me"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{o(""),m(""),h("")},disabled:r,className:"px-6 py-4 bg-card border border-border text-foreground font-semibold rounded-xl hover:bg-secondary transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[a.jsx(d.Z,{className:"w-5 h-5"}),"Reset"]})]})]})}let p=(0,l.Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);function h(){let e=(0,o.useRouter)(),[r,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),i=async r=>{t(!0),l(null);try{console.log("[v0] Sending story generation request:",r);let t=await fetch("/api/generate-story",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r.theme,genre:r.genre,characters:r.characters||void 0})});if(console.log("[v0] API response status:",t.status),!t.ok){let e=await t.json().catch(()=>({error:"Unknown error"}));throw console.log("[v0] API error response:",e),Error(e.error||`API error: ${t.status}`)}let a=await t.json();console.log("[v0] Story generated successfully");let s=JSON.parse(localStorage.getItem("user_stories")||"[]"),o={id:Date.now(),...r,plot:a.plot,createdAt:new Date().toISOString()};s.unshift(o),localStorage.setItem("user_stories",JSON.stringify(s)),e.push(`/dashboard/story/${o.id}`)}catch(r){let e=r instanceof Error?r.message:"Failed to generate story";console.error("[v0] Story generation error:",e),l(e),t(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 p-6",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(p,{className:"w-8 h-8 text-primary"}),a.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Create Your Story"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Use AI to generate unique, creative story plots"})]}),n&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-600 dark:text-red-400",children:[a.jsx("p",{className:"font-semibold",children:"Error generating story"}),a.jsx("p",{className:"text-sm mt-1",children:n})]}),a.jsx(m,{onGenerate:i,isLoading:r})]})})}},1940:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(9103).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},2359:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(417).createProxy)(String.raw`C:\Users\MONISH V\Downloads\story\app\dashboard\generate\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[815,119,676],()=>t(6193));module.exports=a})();