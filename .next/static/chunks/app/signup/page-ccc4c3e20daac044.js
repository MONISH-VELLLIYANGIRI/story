(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{2966:function(e,t,r){Promise.resolve().then(r.bind(r,4665))},4665:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),s=r(2265),n=r(9376),o=r(7648),l=r(9179),i=r(2023),d=r(6858);function u(){let e=(0,n.useRouter)(),{signup:t}=(0,l.a)(),[r,u]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[v,y]=(0,s.useState)(!1),j=async t=>{if(t.preventDefault(),p(""),b!==g){p("Passwords do not match");return}if(b.length<6){p("Password must be at least 6 characters");return}y(!0);try{let t=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:c,password:b})}),a=await t.json();if(!t.ok){p(a.error||"Signup failed. Please try again.");return}e.push("/login")}catch(e){console.error("Signup error:",e),p("Signup failed. Please try again.")}finally{y(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 via-background to-teal-600/20 animate-gradient"}),(0,a.jsx)("div",{className:"absolute top-10 left-10 w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-accent/10 rounded-full blur-3xl"}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-md px-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-primary to-accent rounded-lg",children:(0,a.jsx)(i.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"StoryAI"})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Create your account and start storytelling"})]}),(0,a.jsx)("div",{className:"glass dark:glass-dark rounded-2xl p-8 mb-6",children:(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>u(e.target.value),placeholder:"Your name",className:"w-full px-4 py-3 rounded-lg bg-background/50 border border-border focus:border-primary focus:outline-none transition-colors",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:c,onChange:e=>m(e.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 rounded-lg bg-background/50 border border-border focus:border-primary focus:outline-none transition-colors",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",value:b,onChange:e=>f(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 rounded-lg bg-background/50 border border-border focus:border-primary focus:outline-none transition-colors",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",value:g,onChange:e=>x(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 rounded-lg bg-background/50 border border-border focus:border-primary focus:outline-none transition-colors",required:!0})]}),h&&(0,a.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg text-destructive text-sm",children:h}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-primary to-accent text-white font-semibold py-3 rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 flex items-center justify-center gap-2",children:v?"Creating account...":(0,a.jsxs)(a.Fragment,{children:["Create Account ",(0,a.jsx)(d.Z,{className:"w-4 h-4"})]})})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Already have an account?"," ",(0,a.jsx)(o.default,{href:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in"})]})})]})]})}},9179:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return l}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{o(JSON.parse(e))}catch(e){localStorage.removeItem("user")}i(!1)},[]);let d=async(e,t)=>{let r={id:Math.random().toString(36).substr(2,9),email:e,name:e.split("@")[0]};o(r),localStorage.setItem("user",JSON.stringify(r))},u=async(e,t,r)=>{let a={id:Math.random().toString(36).substr(2,9),email:e,name:r};o(a),localStorage.setItem("user",JSON.stringify(a))};return(0,a.jsx)(n.Provider,{value:{user:r,isLoading:l,login:d,signup:u,logout:()=>{o(null),localStorage.removeItem("user")}},children:t})}function l(){let e=(0,s.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}}},function(e){e.O(0,[605,971,117,744],function(){return e(e.s=2966)}),_N_E=e.O()}]);