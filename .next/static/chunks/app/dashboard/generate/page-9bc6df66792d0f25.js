(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{7371:function(e,r,t){Promise.resolve().then(t.bind(t,5939))},5939:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var a=t(7437),s=t(2265),o=t(9376),n=t(2023),l=t(9205);let i=(0,l.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var d=t(9076);let c=[{id:"fantasy",label:"Fantasy",emoji:"\uD83E\uDDD9",description:"Magic and mythical worlds"},{id:"scifi",label:"Sci-Fi",emoji:"\uD83D\uDE80",description:"Futuristic technology"},{id:"romance",label:"Romance",emoji:"\uD83D\uDC95",description:"Love and relationships"},{id:"horror",label:"Horror",emoji:"\uD83D\uDC7B",description:"Scary encounters"},{id:"thriller",label:"Thriller",emoji:"\uD83D\uDD2A",description:"Suspense and mystery"},{id:"adventure",label:"Adventure",emoji:"\uD83D\uDDFAï¸",description:"Epic journeys"},{id:"comedy",label:"Comedy",emoji:"\uD83D\uDE02",description:"Humor and laughs"},{id:"drama",label:"Drama",emoji:"\uD83C\uDFAD",description:"Emotional stories"}],u=[{label:"Hero's Journey",value:"A young hero discovers their destiny and must overcome great challenges"},{label:"Lost Love",value:"Two people separated by fate must find their way back to each other"},{label:"Mystery",value:"An detective must solve a baffling case that challenges everything they believe"},{label:"Revenge",value:"A character seeks justice against those who wronged them"}];function m(e){let{onGenerate:r,isLoading:t}=e,[o,l]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),f=async e=>{e.preventDefault(),o&&m&&await r({genre:o,theme:m,characters:p})};return(0,a.jsxs)("form",{onSubmit:f,className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Choose a Genre"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:c.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>l(e.id),onMouseEnter:()=>g(e.id),onMouseLeave:()=>g(""),className:"relative p-4 rounded-2xl transition-all duration-300 hover-lift ".concat(o===e.id?"bg-gradient-to-br from-primary to-accent text-white shadow-lg scale-105":"glass dark:glass-dark text-foreground hover:border-primary"),children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:e.emoji}),(0,a.jsx)("div",{className:"font-semibold text-sm",children:e.label}),b===e.id&&!o&&(0,a.jsx)("div",{className:"absolute inset-0 rounded-2xl border-2 border-primary/50 animate-pulse"})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Story Theme or Prompt"}),(0,a.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"Describe the theme or core concept of your story...",className:"w-full px-4 py-4 rounded-xl bg-card border border-border focus:border-primary focus:outline-none transition-colors resize-none",rows:4}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[m.length,"/500 characters | ",m.split(" ").filter(e=>e).length," words"]}),!m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-4 mb-2",children:"Or try a template:"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:u.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>h(e.value),className:"p-3 text-left rounded-lg bg-secondary border border-border hover:border-primary transition-colors text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.value})]},e.label))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Characters (Optional)"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"e.g., A brave knight, A mysterious sorceress, A loyal companion",className:"w-full px-4 py-3 rounded-xl bg-card border border-border focus:border-primary focus:outline-none transition-colors"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Separate multiple characters with commas"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 py-6",children:[(0,a.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent to-primary/50"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 animate-sparkle"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Powered by AI"})]}),(0,a.jsx)("div",{className:"flex-1 h-px bg-gradient-to-l from-transparent to-primary/50"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("button",{type:"submit",disabled:!o||!m||t,className:"flex-1 px-6 py-4 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-xl hover:shadow-2xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 group-hover:animate-spin"}),t?"Generating Story...":"Generate Story"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{let e=c[Math.floor(Math.random()*c.length)],r=u[Math.floor(Math.random()*u.length)];l(e.id),h(r.value),x("")},disabled:t,className:"px-6 py-4 bg-card border border-border text-foreground font-semibold rounded-xl hover:bg-secondary transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,a.jsx)(i,{className:"w-5 h-5"}),"Surprise Me"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{l(""),h(""),x("")},disabled:t,className:"px-6 py-4 bg-card border border-border text-foreground font-semibold rounded-xl hover:bg-secondary transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),"Reset"]})]})]})}let h=(0,l.Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);function p(){let e=(0,o.useRouter)(),[r,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),i=async r=>{t(!0),l(null);try{console.log("[v0] Sending story generation request:",r);let t=await fetch("/api/generate-story",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r.theme,genre:r.genre,characters:r.characters||void 0})});if(console.log("[v0] API response status:",t.status),!t.ok){let e=await t.json().catch(()=>({error:"Unknown error"}));throw console.log("[v0] API error response:",e),Error(e.error||"API error: ".concat(t.status))}let a=await t.json();console.log("[v0] Story generated successfully");let s=JSON.parse(localStorage.getItem("user_stories")||"[]"),o={id:Date.now(),...r,plot:a.plot,createdAt:new Date().toISOString()};s.unshift(o),localStorage.setItem("user_stories",JSON.stringify(s)),e.push("/dashboard/story/".concat(o.id))}catch(r){let e=r instanceof Error?r.message:"Failed to generate story";console.error("[v0] Story generation error:",e),l(e),t(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 p-6",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(h,{className:"w-8 h-8 text-primary"}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-foreground",children:"Create Your Story"})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Use AI to generate unique, creative story plots"})]}),n&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-600 dark:text-red-400",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Error generating story"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:n})]}),(0,a.jsx)(m,{onGenerate:i,isLoading:r})]})})}},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var a=t(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...n,width:s,height:s,stroke:t,strokeWidth:i?24*Number(l)/Number(s):l,className:o("lucide",d),...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:i,...d}=t;return(0,a.createElement)(l,{ref:n,iconNode:r,className:o("lucide-".concat(s(e)),i),...d})});return t.displayName="".concat(e),t}},9076:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},2023:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7371)}),_N_E=e.O()}]);