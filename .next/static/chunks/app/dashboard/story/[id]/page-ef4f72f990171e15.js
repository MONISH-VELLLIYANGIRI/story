(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{3286:function(e,r,t){Promise.resolve().then(t.bind(t,3064))},3064:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var s=t(7437),a=t(2265),n=t(9376),o=t(8997),c=t(9205);let d=(0,c.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var l=t(2735);let i=(0,c.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var u=t(9076);let x=(0,c.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function m(e){let{story:r}=e,t=(0,n.useRouter)(),[c,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(r.plot);(0,a.useEffect)(()=>{m(!0)},[]);let v=j.split(/\s+/).filter(e=>e).length,w=new Date(r.createdAt).toLocaleDateString();return(0,s.jsxs)("div",{className:"space-y-6 animate-reveal",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"px-3 py-1 bg-primary/20 text-primary rounded-full text-sm font-medium",children:r.genre}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:w})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:r.theme})]}),(0,s.jsx)("button",{onClick:()=>f(!p),className:"p-2 rounded-lg transition-colors ".concat(p?"bg-destructive/20 text-destructive":"bg-secondary text-muted-foreground hover:text-foreground"),children:(0,s.jsx)(o.Z,{className:"w-6 h-6 ".concat(p?"fill-current":"")})})]}),r.characters&&(0,s.jsxs)("p",{className:"text-muted-foreground",children:[(0,s.jsx)("span",{className:"font-semibold text-foreground",children:"Characters:"})," ",r.characters]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 bg-card border border-border rounded-xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Word Count"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:v})]}),(0,s.jsx)("div",{className:"border-l border-border"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Genre"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-primary capitalize",children:r.genre})]}),(0,s.jsx)("div",{className:"border-l border-border"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Created"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:w})]})]}),b?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("textarea",{value:j,onChange:e=>N(e.target.value),className:"w-full px-4 py-6 rounded-xl bg-card border border-border focus:border-primary focus:outline-none transition-colors resize-none text-foreground leading-relaxed",rows:12}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem("user_stories")||"[]").map(e=>e.id===r.id?{...e,plot:j}:e);localStorage.setItem("user_stories",JSON.stringify(e)),y(!1)},className:"flex-1 px-4 py-3 bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-lg hover:shadow-lg transition-all",children:"Save Changes"}),(0,s.jsx)("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-3 bg-card border border-border text-foreground font-semibold rounded-lg hover:bg-secondary transition-colors",children:"Cancel"})]})]}):(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"p-8 bg-gradient-to-br from-card to-card/50 border border-border rounded-2xl shadow-lg transition-all duration-500 ".concat(c?"opacity-100 translate-y-0":"opacity-0 translate-y-4"," animate-typing"),children:(0,s.jsx)("p",{className:"text-foreground leading-relaxed text-lg whitespace-pre-wrap",children:j})})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(j),g(!0),setTimeout(()=>g(!1),2e3)},className:"flex items-center gap-2 px-4 py-3 bg-card border border-border text-foreground rounded-lg hover:bg-secondary transition-colors",children:[(0,s.jsx)(d,{className:"w-4 h-4"}),h?"Copied!":"Copy"]}),(0,s.jsxs)("button",{onClick:()=>{let e=new Blob(["\n".concat(r.genre.toUpperCase()," - ").concat(r.theme,"\n").concat("=".repeat(50),"\n").concat(r.characters?"Characters: ".concat(r.characters,"\n"):"","\n").concat(j,"\n    ").trim()],{type:"text/plain"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="story-".concat(r.id,".txt"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"flex items-center gap-2 px-4 py-3 bg-card border border-border text-foreground rounded-lg hover:bg-secondary transition-colors",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4"}),"Export"]}),(0,s.jsxs)("button",{onClick:()=>y(!b),className:"flex items-center gap-2 px-4 py-3 bg-card border border-border text-foreground rounded-lg hover:bg-secondary transition-colors",children:[(0,s.jsx)(i,{className:"w-4 h-4"}),b?"Preview":"Edit"]}),(0,s.jsxs)("button",{onClick:()=>t.push("/dashboard/generate"),className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-lg hover:shadow-lg transition-all",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),"Generate Another"]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 bg-card border border-border text-foreground rounded-lg hover:bg-secondary transition-colors ml-auto",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),"Share"]})]})]})}function h(){let e=(0,n.useParams)(),r=(0,n.useRouter)(),[t,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let r=JSON.parse(localStorage.getItem("user_stories")||"[]").find(r=>r.id===Number(e.id));r&&o(r),d(!1)},[e.id]),c)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading story..."})]})}):t?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 p-6",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)(m,{story:t})})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Story not found"}),(0,s.jsx)("button",{onClick:()=>r.push("/dashboard/stories"),className:"text-primary hover:underline font-medium",children:"Back to stories"})]})})}},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var s=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:l="",children:i,iconNode:u,...x}=e;return(0,s.createElement)("svg",{ref:r,...o,width:a,height:a,stroke:t,strokeWidth:d?24*Number(c)/Number(a):c,className:n("lucide",l),...x},[...u.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(i)?i:[i]])}),d=(e,r)=>{let t=(0,s.forwardRef)((t,o)=>{let{className:d,...l}=t;return(0,s.createElement)(c,{ref:o,iconNode:r,className:n("lucide-".concat(a(e)),d),...l})});return t.displayName="".concat(e),t}},2735:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8997:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9076:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3286)}),_N_E=e.O()}]);